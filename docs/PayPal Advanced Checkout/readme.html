<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <meta name="viewport" content="width=device-width">
  <title>PayPal Advanced Checkout for Zen Cart</title>

  <!-- FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
  <!-- FONTS -->

  <link href="css/stylesheet.css" rel="stylesheet" type="text/css" />
  <link href="css/sh_style.css" rel="stylesheet" type="text/css" />
  <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-7N0x4zTz9Fq6ZtJECprd2qfBWFdOCOG2fE/6H2y9CJo="
    crossorigin="anonymous"></script>
  <script type="text/javascript" src="js/sh_main.min.js"></script>
  <script type="text/javascript" src="js/sh_html.min.js"></script>
  <script type="text/javascript" src="js/sh_php.min.js"></script>
  <script type="text/javascript" src="js/sh_javascript.min.js"></script>
  <script type="text/javascript" src="js/sh_sql.min.js"></script>
  <script type="text/javascript" src="js/sh_css.min.js"></script>
  <script type="text/javascript" src="js/documentation.js"></script>
</head>
<body>

  <div id="wrapper" class="tk-museo-slab">
    <!--BOF Header-->
    <div id="headerContainer">
      <div id="mainMenu" class="headerWrapper">

        <div class="logoWrapper">
          <a href="https://www.numinix.com/"><img src="images/logo.png" alt="Numinix.com" title="Numinix" id="logo" class="headerLogo" /></a>
          <span class="nav-icon" id="js-nav-icon">
            <img src="images/nav-icon.png" alt="nav icon">
          </span>
        </div>

        <!--BOF Links-->
        <div class="contentMenu">
          <ul>
            <li><a href="#Overview" id="btnOverview" class="btn" title="Overview" data-target="Overview">Overview</a></li>
            <li><a href="#Installation" id="btnInstallation" class="btn" title="Installation" data-target="Installation">Installation</a></li>
            <li><a href="#Configuration" id="btnConfiguration" class="btn" title="Configuration" data-target="Configuration">Configuration</a></li>
            <li><a href="#Usage" id="btnUsage" class="btn" title="Usage" data-target="Usage">Usage</a></li>
            <li><a href="#Automation" id="btnAutomation" class="btn" title="Operations" data-target="Automation">Operations</a></li>
            <li><a href="#Uninstallation" id="btnUninstallation" class="btn" title="Uninstallation" data-target="Uninstallation">Uninstallation</a></li>
            <li><a href="#Troubleshooting" id="btnTroubleshooting" class="btn" title="Troubleshooting" data-target="Troubleshooting">Troubleshooting</a></li>
            <li><a href="#Support" id="btnSupport" class="btn" title="Support" data-target="Support">Support</a></li>
            <li><a href="#License" id="btnLicense" class="btn" title="License" data-target="License">License</a></li>
            <li><a href="#Disclaimer" id="btnDisclaimer" class="btn" title="Disclaimer" data-target="Disclaimer">Disclaimer</a></li>
          </ul>
        </div>
        <!--EOF Links-->

      </div>
    </div>
    <div id="headerTitle">
      <h1 class="clearBoth">PayPal Advanced Checkout for Zen Cart</h1>
      <p>Modernize Zen Cart checkout with a unified PayPal REST integration that streamlines Express and Payments Pro flows.</p>
    </div>
    <br class="clearBoth" />
    <!--EOF Header-->

    <div class="contentWrapper">

      <!--BOF OVERVIEW-->
      <div class="bodyHeaderContainer" id="Overview">
        <div class="bodyHeader" id="green">
          <span class="bodyHeaderTxt">Overview</span>
        </div>
        <div class="bodyWrapper">
          <p class="bodyText">PayPal Advanced Checkout (also known as <code>paypalr</code>) combines PayPal Payments Pro and Express Checkout into a single REST-based payment module for Zen Cart 1.5.7c and later. It ships with observer and language shims to support older stores, delivering the modern PayPal REST experience with minimal core changes.</p>
          <p class="bodyText">Use this document to install, configure, operate, and maintain the module. For supplemental diagrams, API examples, and historical release notes, consult the project wiki and release archives.</p>
          <ul class="bodyList">
            <li>Validated in Zen Cart 1.5.7c+, 2.0.x, and 2.1.0 with both <code>responsive_classic</code> and <code>ZCA Bootstrap</code> templates.</li>
            <li>Requires PHP 7.4 through 8.4 with cURL, JSON, and OpenSSL enabled. PHP 7.3 and older are not supported.</li>
            <li>Supports 3-page checkout, One Page Checkout (OPC 2.4.6-2.5.3), guest checkout, and vaulted card reuse.</li>
          </ul>
          <h4>Compatibility &amp; requirements</h4>
          <p class="bodyText">Install the provided notifier patch for <code>includes/classes/order_total.php</code> before enabling the module. Without the notifier, PayPal Advanced Checkout detects the missing integration point and automatically disables itself.</p>
          <p class="bodyText">Ensure outbound HTTPS requests are allowed so administrators can complete PayPal&rsquo;s Integrated Sign-Up flow. Populate the store name, owner name, and owner email in Zen Cart&rsquo;s configuration to pre-fill the onboarding forms.</p>
        </div>
      </div>
      <!--EOF OVERVIEW-->

      <!--BOF INSTALLATION-->
      <div class="bodyHeaderContainer" id="Installation">
        <div class="bodyHeader" id="green">
          <span class="bodyHeaderTxt">Installation</span>
        </div>
        <div class="bodyWrapper">
          <h4>Before you start</h4>
          <ol>
            <li>Back up your Zen Cart database and store files.</li>
            <li>Review the compatibility checklist in the Overview, including the PHP version and required extensions.</li>
            <li>Apply the <a href="https://github.com/lat9/paypalr/wiki/Required-changes-to-%60-includes-classes-order_total.php%60" target="_blank">order total notifier patch</a> if your store runs on Zen Cart versions prior to 1.5.8a.</li>
            <li>Create PayPal REST API credentials (client ID and secret) for both Sandbox and Live modes using the steps described in the module wiki.</li>
          </ol>
          <h4>Uploading files</h4>
          <ol>
            <li>Unzip the release package locally.</li>
            <li>Rename the <code>YOUR_ADMIN/</code> directory to match your store&rsquo;s admin directory name.</li>
            <li>Upload the contents of <code>includes/</code> and your renamed admin folder to the corresponding locations in your Zen Cart installation, merging when prompted.</li>
            <li>Verify that <code>includes/modules/payment/paypalr.php</code> and the accompanying <code>PayPalRestful</code> library files are present on the server.</li>
          </ol>
          <h4>Database updates</h4>
          <ol>
            <li>Log in to your Zen Cart admin.</li>
            <li>Navigate to <strong>Modules → Payment</strong> and confirm that <strong>PayPal Advanced Checkout</strong> appears in the list. No manual SQL patches are required for a fresh install.</li>
            <li>If upgrading from an older beta, follow the upgrade checklist in the module wiki to reconcile any schema or configuration changes before enabling the new code.</li>
          </ol>
          <p class="bodyText">After the files are in place, the module&rsquo;s configuration group appears under <strong>Configuration → PayPal Modules</strong> and the payment method is ready for activation via <strong>Modules → Payment</strong>.</p>
          <h4>Optional saved card management page</h4>
          <p class="bodyText">PayPal Advanced Checkout ships with a customer-facing page for reviewing vaulted cards. The page relies on the <strong>CSS/JS Loader</strong> plugin to enqueue its JavaScript and CSS assets. Install and configure the loader before enabling the page.</p>
          <ol>
            <li>Install <a href="https://www.numinix.com/css-js-loader-828" target="_blank" rel="noopener">CSS/JS Loader</a> so Zen Cart can load the page-specific jQuery 3.7.1 and jQuery Migrate 3.4.1 assets.</li>
            <li>Copy the contents of <code>includes/templates/YOUR_TEMPLATE/</code> into your active storefront template, renaming the <code>YOUR_TEMPLATE</code> directory to match.</li>
            <li>Optionally create <code>includes/templates/&lt;your template&gt;/css/ascc_overrides.css</code> to layer additional styling. The plugin does not ship with this file so you can maintain your overrides outside of version control.</li>
          </ol>
          <p class="bodyText">Once the loader is in place, the saved-card page adopts the responsive template&rsquo;s layout automatically. You can remove or extend styles at any time by editing your optional <code>ascc_overrides.css</code> file.</p>
          <h4>Optional wallet buttons on product and cart pages</h4>
          <p class="bodyText">PayPal Advanced Checkout can display wallet payment buttons (Google Pay, Apple Pay, Venmo) directly on shopping cart and product pages for faster checkout. These buttons allow customers to complete purchases without navigating to the standard checkout flow.</p>
          <p class="bodyText"><strong>Shopping cart page integration:</strong></p>
          <ol>
            <li>Open your active template&rsquo;s shopping cart file: <code>includes/templates/YOUR_TEMPLATE/templates/tpl_shopping_cart_default.php</code></li>
            <li>Locate the "Continue Checkout" or "Proceed to Checkout" button section (typically near the bottom after order totals)</li>
            <li>Add the following code immediately before or after the checkout button:</li>
          </ol>
          <pre style="background: #f5f5f5; padding: 1em; border-radius: 4px; overflow-x: auto;"><code>&lt;?php
  // PayPal Wallet Buttons (Google Pay, Apple Pay, Venmo)
  $template_path = DIR_WS_TEMPLATES . $template_dir . '/templates/tpl_paypalr_shopping_cart.php';
  if (!file_exists($template_path)) {
    $template_path = DIR_WS_TEMPLATES . 'template_default/templates/tpl_paypalr_shopping_cart.php';
  }
  if (file_exists($template_path)) {
    include($template_path);
  }
?&gt;</code></pre>
          <p class="bodyText"><strong>Product page integration:</strong></p>
          <ol>
            <li>Open your active template&rsquo;s product info display file: <code>includes/templates/YOUR_TEMPLATE/templates/tpl_product_info_display.php</code></li>
            <li>Locate the "Add to Cart" button section (typically within the product options/quantity form)</li>
            <li>Add the following code immediately after the "Add to Cart" button:</li>
          </ol>
          <pre style="background: #f5f5f5; padding: 1em; border-radius: 4px; overflow-x: auto;"><code>&lt;?php
  // PayPal Wallet Buttons (Google Pay, Apple Pay, Venmo)
  $template_path = DIR_WS_TEMPLATES . $template_dir . '/templates/tpl_paypalr_product_info.php';
  if (!file_exists($template_path)) {
    $template_path = DIR_WS_TEMPLATES . 'template_default/templates/tpl_paypalr_product_info.php';
  }
  if (file_exists($template_path)) {
    include($template_path);
  }
?&gt;</code></pre>
          <p class="bodyText">After adding these snippets, wallet buttons appear automatically when their corresponding payment modules (PayPal Google Pay, PayPal Apple Pay, PayPal Venmo) are installed and enabled. Each button handles payment authorization, shipping address collection, shipping method selection, order total calculation, and order creation&mdash;all without leaving the page.</p>
        </div>
      </div>
      <!--EOF INSTALLATION-->

      <!--BOF CONFIGURATION-->
      <div class="bodyHeaderContainer" id="Configuration">
        <div class="bodyHeader" id="green">
          <span class="bodyHeaderTxt">Configuration</span>
        </div>
        <div class="bodyWrapper">
          <p class="bodyText">Open <strong>Configuration → PayPal Modules → PayPal Advanced Checkout</strong> to tailor how the module communicates with PayPal and presents options during checkout.</p>
          <ol class="steps">
            <li>
              <h4 class="step-title">General settings</h4>
              <ul>
                <li>Select the default transaction mode (Sandbox or Live) and configure the payment zone if you restrict availability to certain countries.</li>
                <li>Choose whether to capture funds immediately or authorize and capture later via the order management tools.</li>
                <li>Define the order statuses used for pending authorizations, completed captures, and failures.</li>
              </ul>
            </li>
            <li>
              <h4 class="step-title">API credentials</h4>
              <ul>
                <li>Enter the PayPal REST client ID and secret for both Sandbox and Live environments.</li>
                <li>Enable Integrated Sign-Up to let administrators onboard directly from Zen Cart&rsquo;s Payment Modules page.</li>
                <li>Confirm that your server firewall allows outbound HTTPS requests to <code>api-m.paypal.com</code> and <code>api-m.sandbox.paypal.com</code>.</li>
              </ul>
            </li>
            <li>
              <h4 class="step-title">Checkout experience</h4>
              <ul>
                <li>Choose the layout for the Express Checkout button and whether to display it on the shopping cart, checkout shipping, and checkout payment pages.</li>
                <li>Enable card vaulting to store customer instruments for subsequent merchant-initiated transactions.</li>
                <li>Configure Pay Upon Invoice or alternate payment methods if supported in your region.</li>
              </ul>
            </li>
            <li>
              <h4 class="step-title">Risk management &amp; logging</h4>
              <ul>
                <li>Enable debug logging when diagnosing API responses, and periodically clear <code>/logs/paypalr/</code> to keep storage usage in check.</li>
                <li>Require confirmed addresses, limit acceptance based on country and currency combinations, or adjust fraud filters according to your policy.</li>
                <li>Set notification emails for administrator alerts so your team is notified of failed or flagged transactions.</li>
              </ul>
            </li>
          </ol>
          <h4>Wallet add-on modules</h4>
          <p class="bodyText">Install the bundled Apple Pay, Google Pay, and Venmo payment modules if you want to surface each wallet alongside the core PayPal Advanced Checkout option. They inherit the parent module's API credentials and diagnostics.</p>
          <ol>
            <li>Confirm that the primary <strong>PayPal Advanced Checkout</strong> module is installed and enabled; the wallet modules disable themselves if the parent configuration key <code>MODULE_PAYMENT_PAYPALR_VERSION</code> is missing.</li>
            <li>Work with your PayPal account manager to activate each wallet for your merchant ID. Apple Pay also requires you to host the <code>.well-known/apple-developer-merchantid-domain-association</code> file that PayPal supplies.</li>
            <li>Install <strong>PayPal Apple Pay</strong>, <strong>PayPal Google Pay</strong>, or <strong>PayPal Venmo</strong> via <strong>Modules &rarr; Payment</strong>, enable them, and optionally scope them with zone and sort-order settings.</li>
            <li>Clear compiled templates so the checkout payment page can load the matching JavaScript helpers (<code>jquery.paypalr.applepay.js</code>, <code>jquery.paypalr.googlepay.js</code>, <code>jquery.paypalr.venmo.js</code>). Each script injects a placeholder, listens for PayPal wallet events, and stores the confirmed payload in hidden form fields.</li>
            <li>Run sandbox test orders to confirm that PayPal returns a successful status. The module accepts <code>COMPLETED</code>, <code>APPROVED</code>, and <code>AUTHORIZED</code> responses and will prompt the customer to retry if <code>PAYER_ACTION_REQUIRED</code> is returned.</li>
          </ol>
          <h4>Wallet account setup and IDs</h4>
          <p class="bodyText">Each wallet module exposes its own configuration fields so you can paste the account identifiers PayPal and the wallet providers issue. Use the steps below when onboarding or updating your storefront.</p>
          <ul class="bodyList">
            <li><strong>Google Pay.</strong> Enable Google Pay in your PayPal account before using this feature. For <strong>Sandbox/Testing</strong>: Go to the <a href="https://developer.paypal.com/" target="_blank" rel="noopener">PayPal Developer Dashboard</a>, navigate to <strong>Apps &amp; Credentials</strong>, select your Sandbox app, scroll to <strong>Features</strong>, check the <strong>Google Pay</strong> checkbox, and click <strong>Save</strong>. For <strong>Live/Production</strong>: Log into your <a href="https://www.paypal.com/businessprofile/settings" target="_blank" rel="noopener">PayPal Business account</a>, navigate to <strong>Account Settings</strong> or <strong>Payments</strong>, find <strong>Google Pay</strong> or <strong>Alternative Payment Methods</strong>, and enable it. Complete any required onboarding steps. The Google Pay integration uses your existing PayPal REST credentials. If PayPal provides you with a Google Merchant ID (a 5&ndash;20 character alphanumeric value) to improve eligibility checks, enter it in the module&rsquo;s configuration field; otherwise, leave it blank.</li>
            <li><strong>Apple Pay.</strong> Apple requires a merchant identifier, domain verification file, and an active payment processing certificate. Sign in to the <a href="https://developer.apple.com/account/resources/identifiers/list/merchant" target="_blank" rel="noopener">Apple Developer portal</a> and create an <em>Apple Pay Merchant ID</em> for your store. Generate a payment processing certificate using the CSR provided by your PayPal/Braintree/Numinix onboarding contact (mirroring the process described in the Braintree Apple Pay module docs): upload the CSR, download the resulting <code>.cer</code>, and hand that certificate back to PayPal so it can be installed on your behalf. Finally, host the <code>.well-known/apple-developer-merchantid-domain-association</code> file that PayPal provides at your storefront root and register the domain inside the Apple Developer portal. Once the certificate and domain are active, enable the PayPal Apple Pay module.</li>
            <li><strong>Venmo.</strong> PayPal enables Venmo processing on a per-merchant basis. After Venmo is activated for your PayPal account, locate your Venmo business profile or account ID (visible in your PayPal business profile or obtainable from your PayPal account manager) and paste it into the <strong>Venmo Business Profile ID</strong> setting in the module. Venmo requires that specific business profile ID.</li>
          </ul>
        </div>
      </div>
      <!--EOF CONFIGURATION-->

      <!--BOF USAGE-->
      <div class="bodyHeaderContainer" id="Usage">
        <div class="bodyHeader" id="green">
          <span class="bodyHeaderTxt">Usage</span>
        </div>
        <div class="bodyWrapper">
          <p class="bodyText">After configuration, enable the module via <strong>Modules → Payment</strong> and move it into the preferred display order. Test both sandbox and live transactions before accepting production orders.</p>
          <ol class="steps">
            <li>
              <h4 class="step-title">Complete a sandbox transaction</h4>
              <p>Switch the module to Sandbox mode, place a test order using PayPal Checkout or a direct credit card, and confirm that the order status and PayPal transaction IDs are recorded correctly.</p>
            </li>
            <li>
              <h4 class="step-title">Validate live credentials</h4>
              <p>After a successful sandbox test, switch to Live mode, copy in the production client ID and secret, and run a low-value transaction to verify settlement.</p>
            </li>
            <li>
              <h4 class="step-title">Manage orders</h4>
              <p>Use the Zen Cart orders screen to capture authorized payments, issue refunds, or void transactions. The module relays those actions to PayPal and synchronizes the order history.</p>
            </li>
            <li>
              <h4 class="step-title">Leverage vaulted cards</h4>
              <p>When customers opt to save their cards, retrieve the vault token using <code>paypalr::getVaultedCardsForCustomer()</code> or <code>PayPalRestful\Common\VaultManager::getCustomerVaultedCards()</code> and submit subsequent captures through <code>PayPalRestful\Api\PayPalRestfulApi</code>.</p>
            </li>
          </ol>
          <h4>Integrated Sign-Up (ISU)</h4>
          <p class="bodyText">Launch the <strong>Complete PayPal setup</strong> button on the Payment Modules page to onboard merchants directly with PayPal. The portal returns credentials to the administrator and records whether the process completed or was cancelled.</p>
          <h4>Recurring products and subscriptions</h4>
          <p class="bodyText">Leverage PayPal Billing Plans and Subscriptions if you sell memberships or recurring services. The bundled API client exposes the full plan and subscription lifecycle.</p>
          <ol class="steps">
            <li>
              <h4 class="step-title">Publish a PayPal plan</h4>
              <p>Define the billing cycles using PayPal's developer dashboard or by calling <code>createPlan</code> from a short admin script. Activate the plan before promoting it to customers.</p>
            </li>
            <li>
              <h4 class="step-title">Map plans to Zen Cart products</h4>
              <p>Store the PayPal plan ID in a product attribute or custom table so your checkout observer can look it up when the item is present in the cart.</p>
            </li>
            <li>
              <h4 class="step-title">Create subscriptions at checkout</h4>
              <p>Detect the plan-enabled product, instantiate <code>PayPalRestfulApi</code>, and call <code>createSubscription</code> with subscriber details and return URLs. Redirect shoppers to PayPal for approval.</p>
            </li>
            <li>
              <h4 class="step-title">Process webhook callbacks</h4>
              <p>Point PayPal's webhook destination at <code>ppr_webhook.php</code> so the module can validate events. Update your orders or membership records when activation, payment, or cancellation notices arrive.</p>
            </li>
            <li>
              <h4 class="step-title">Offer self-service management</h4>
              <p>Enable the optional saved-card management page (<code>account_saved_credit_cards</code>) so subscribers can update vault details that PayPal uses for subsequent charges.</p>
            </li>
          </ol>
          <h5>Configure product attributes</h5>
          <p class="bodyText">Create the subscription attributes in <strong>Catalog &rarr; Option Name Manager</strong> and assign them to each recurring product via the <strong>Attributes Controller</strong>. The observer lowercases and slugifies the option labels, so keep the exact wording shown below.</p>
          <table class="bodyTable">
            <thead>
              <tr>
                <th>Attribute label</th>
                <th>Suggested type</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>PayPal Subscription Plan ID</td>
                <td>Text</td>
                <td>Required. Stores the PayPal plan identifier returned by <code>createPlan()</code>.</td>
              </tr>
              <tr>
                <td>PayPal Subscription Billing Period</td>
                <td>Dropdown</td>
                <td>Required. Accepts Day, Week, Month, Year, or Semi-Month. The observer normalizes common variants to PayPal&rsquo;s interval units.</td>
              </tr>
              <tr>
                <td>PayPal Subscription Billing Frequency</td>
                <td>Text</td>
                <td>Required. Numeric value representing the number of intervals between charges. Values less than 1 are ignored.</td>
              </tr>
              <tr>
                <td>PayPal Subscription Total Billing Cycles</td>
                <td>Text</td>
                <td>Optional. Use <code>0</code> to renew indefinitely.</td>
              </tr>
              <tr>
                <td>PayPal Subscription Trial Period</td>
                <td>Dropdown</td>
                <td>Optional. Uses the same vocabulary as the billing period column. Leave blank to skip trials.</td>
              </tr>
              <tr>
                <td>PayPal Subscription Trial Frequency</td>
                <td>Text</td>
                <td>Optional. Only applied when a trial period is present.</td>
              </tr>
              <tr>
                <td>PayPal Subscription Trial Total Billing Cycles</td>
                <td>Text</td>
                <td>Optional. Limits the number of trial renewals.</td>
              </tr>
              <tr>
                <td>PayPal Subscription Setup Fee</td>
                <td>Text</td>
                <td>Optional. Parsed as a decimal amount; currency symbols are stripped automatically.</td>
              </tr>
            </tbody>
          </table>
          <p class="bodyText">Assign the attributes to each subscription SKU. The observer ignores products that are missing any of the required fields so that partial records are never written.</p>
          <h5>Subscription logging &amp; troubleshooting</h5>
          <p class="bodyText">When the buyer saves their card during checkout, the observer records a row in the <code>paypal_subscriptions</code> table for every qualifying line item. Each entry captures the order and product identifiers, normalized billing metadata, and the vault profile so follow-up captures can reuse the saved card token.</p>
          <ul class="bodyList">
            <li><strong>Status values:</strong> <code>pending</code> indicates a vault token was present. <code>awaiting_vault</code> means no vault metadata was returned; confirm the shopper opted to store the card and that the payment captured successfully.</li>
            <li><strong>Attribute typos:</strong> Verify the option names match the labels above exactly if a subscription fails to appear in the log.</li>
            <li><strong>Vault lookups:</strong> The observer consults the customer&rsquo;s saved cards to locate the vault token. If <code>paypal_vault_id</code> is <code>0</code>, review the customer&rsquo;s saved cards page or enable PayPal Advanced Checkout debug logging.</li>
            <li><strong>Notifier hook:</strong> The module raises <code>NOTIFY_RECURRING_ORDER_LOGGED</code> after logging at least one subscription so legacy observers continue to fire.</li>
          </ul>
        </div>
      </div>
      <!--EOF USAGE-->

      <!--BOF AUTOMATION-->
      <div class="bodyHeaderContainer" id="Automation">
        <div class="bodyHeader" id="blue">
          <span class="bodyHeaderTxt">Operations</span>
        </div>
        <div class="bodyWrapper">
          <p class="bodyText">Keep your integration healthy with these recurring tasks.</p>
          <ul class="bodyList">
            <li><strong>Webhooks:</strong> Configure PayPal webhooks to notify your store of disputes, subscription updates, and risk events. Implement listeners using the module&rsquo;s notifier hooks if you extend functionality.</li>
            <li><strong>Logging:</strong> Review <code>/logs/paypalr/</code> for API failures or timeouts. Rotate logs regularly, especially on shared hosting.</li>
            <li><strong>Credentials:</strong> Periodically rotate your PayPal client secrets and update the configuration. Re-run sandbox smoke tests after every credential change.</li>
            <li><strong>Extensions:</strong> Consult the project wiki for recipes that automate vaulted card captures, payment retries, or external ERP integrations.</li>
          </ul>
        </div>
      </div>
      <!--EOF AUTOMATION-->

      <!--BOF UNINSTALLATION-->
      <div class="bodyHeaderContainer" id="Uninstallation">
        <div class="bodyHeader" id="blue">
          <span class="bodyHeaderTxt">Uninstallation</span>
        </div>
        <div class="bodyWrapper">
          <ol>
            <li>Switch the module to Sandbox mode and confirm that no live transactions are processing.</li>
            <li>In <strong>Modules → Payment</strong>, select <strong>PayPal Advanced Checkout</strong> and click <strong>Remove</strong> to clear the configuration keys from your database.</li>
            <li>Delete the uploaded module files from <code>includes/modules/payment/</code>, <code>includes/languages/</code>, <code>includes/classes/observers/</code>, and your admin directory.</li>
            <li>If no other plugins rely on it, remove the notifier patch from <code>includes/classes/order_total.php</code> or restore the backup you created prior to installation.</li>
            <li>Revoke the REST API credentials in the PayPal developer dashboard to prevent unintended access.</li>
          </ol>
          <p class="bodyText">Keep a copy of your deployment notes and prior release documentation outside of your production store if you need historical context or upgrade guidance in the future.</p>
        </div>
      </div>
      <!--EOF UNINSTALLATION-->

      <!--BOF TROUBLESHOOTING-->
      <div class="bodyHeaderContainer" id="Troubleshooting">
        <div class="bodyHeader" id="blue">
          <span class="bodyHeaderTxt">Troubleshooting</span>
        </div>
        <div class="bodyWrapper">
          <ul class="bodyList">
            <li><strong>Module disappears after enabling?</strong> Confirm the <code>order_total</code> notifier patch is present. The module hides itself if the notifier is missing.</li>
            <li><strong>API authentication errors?</strong> Verify that the client ID and secret match the selected server (Sandbox vs. Live) and that your host allows outbound TLS connections.</li>
            <li><strong>Orders remain in pending capture?</strong> Ensure your capture mode aligns with the order status settings, and run the capture or void via the order details screen.</li>
            <li><strong>Checkout button not visible?</strong> Review the configuration toggles that control Express Checkout button placement and confirm your template includes the standard Zen Cart button hooks.</li>
            <li><strong>Integrated Sign-Up fails?</strong> Check your browser console for blocked pop-ups, verify HTTPS connectivity to <code>numinix.com</code>, and retry after clearing admin cache.</li>
            <li><strong>Google Pay button doesn't appear or shows "Configuration is missing allowedPaymentMethods" error?</strong> Enable Google Pay in your PayPal account. For Sandbox, enable it in the PayPal Developer Dashboard under Apps &amp; Credentials &rarr; Your App &rarr; Features. For Production, enable it in your PayPal Business account under Account Settings or Payments. Ensure your site uses HTTPS (required for production). The optional Google Merchant ID field should contain a 5&ndash;20 character alphanumeric value only if PayPal provides one; otherwise leave it blank.</li>
            <li><strong>Apple Pay button doesn't appear?</strong> Apple Pay only displays on Safari browser and Apple devices (macOS, iOS). Verify that your domain is registered in the Apple Developer Console, the merchant validation file (<code>.well-known/apple-developer-merchantid-domain-association</code>) is accessible, and the payment processing certificate is installed with PayPal.</li>
            <li><strong>Venmo button doesn't appear?</strong> Venmo is US-only and works best on mobile devices. Confirm Venmo is enabled for your PayPal account, the Venmo Business Profile ID is correctly configured in the module settings, and you're accessing the site from a US location or with <code>buyer-country=US</code> parameter set in the SDK.</li>
            <li><strong>Need more help?</strong> Consult the project wiki and the Zen Cart forum thread referenced in the Support section for deep-dive diagnostics.</li>
          </ul>
        </div>
      </div>
      <!--EOF TROUBLESHOOTING-->

      <!--BOF SUPPORT-->
      <div class="bodyHeaderContainer" id="Support">
        <div class="bodyHeader" id="blue">
          <span class="bodyHeaderTxt">Support</span>
        </div>
        <div class="bodyWrapper">
          <p class="bodyText">Need assistance? The Numinix support team is ready to help you launch and optimize PayPal Advanced Checkout.</p>
          <ul class="bodyList">
            <li>Email <a href="mailto:support@numinix.com">support@numinix.com</a> with detailed steps to reproduce any issues.</li>
            <li>Include your Zen Cart version, PHP version, hosting environment, and whether webhooks or vaulted cards are enabled.</li>
            <li>Attach relevant log excerpts or screenshots from the admin dashboard.</li>
          </ul>
        </div>
      </div>
      <!--EOF SUPPORT-->

      <!--BOF LICENSE-->
      <div class="bodyHeaderContainer" id="License">
        <div class="bodyHeader" id="grey">
          <span class="bodyHeaderTxt">License</span>
        </div>
        <div class="bodyWrapper">
          <p class="bodyText">This plugin is licensed for use on a single Zen Cart installation per purchase. Redistribution without written consent from Numinix is prohibited. Refer to <a href="license.txt">license.txt</a> for the complete terms.</p>
        </div>
      </div>
      <!--EOF LICENSE-->

      <!--BOF DISCLAIMER-->
      <div class="bodyHeaderContainer" id="Disclaimer">
        <div class="bodyHeader" id="grey">
          <span class="bodyHeaderTxt">Disclaimer</span>
        </div>
        <div class="bodyWrapper">
          <p class="bodyText">PayPal integrations are subject to PayPal&rsquo;s terms of use, risk controls, and regional availability. Monitor live transactions regularly to ensure compliance with your business policies and local regulations. Numinix is not liable for damages resulting from improper configuration or misuse of this module.</p>
        </div>
      </div>
      <!--EOF DISCLAIMER-->

    </div>
    <footer class="readme-footer" aria-label="Numinix contact and resources">
      <div class="readme-footer-container">
        <div class="footer-column footer-column-1">
          <h2 class="title">Need a hand with your integration?</h2>
          <p class="paragraph">Partner with the Numinix team to tailor PayPal Advanced Checkout, optimize conversions, and keep your Zen Cart store secure.</p>
          <a class="connect-link" href="https://www.numinix.com/contact" target="_blank" rel="noopener">Connect with Numinix</a>
          <div class="details">
            <img src="images/numinix-emblem.png" alt="Numinix emblem" />
            <ul>
              <li>
                <span aria-hidden="true">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
                    <polyline points="22,6 12,13 2,6" />
                  </svg>
                </span>
                <div>
                  <strong>Email</strong><br />
                  <a href="mailto:support@numinix.com">support@numinix.com</a>
                </div>
              </li>
              <li>
                <span aria-hidden="true">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M22 16.92v3a2 2 0 0 1-2.18 2A19.86 19.86 0 0 1 11.09 18a19.5 19.5 0 0 1-6-6A19.86 19.86 0 0 1 2 4.18 2 2 0 0 1 4 2h3a2 2 0 0 1 2 1.72 12.8 12.8 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8 9l3 3 1.34-1.29a2 2 0 0 1 2.11-.45 12.8 12.8 0 0 0 2.81.7A2 2 0 0 1 19 13h3a2 2 0 0 1 2 2.18z" />
                  </svg>
                </span>
                <div>
                  <strong>Phone</strong><br />
                  <a href="tel:+18556864649">1-855-NUMINIX</a>
                </div>
              </li>
              <li>
                <span aria-hidden="true">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#171717" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M12 21s-6-5.686-6-10A6 6 0 1 1 18 11c0 4.314-6 10-6 10z" />
                    <circle cx="12" cy="11" r="2.5" />
                  </svg>
                </span>
                <div>
                  <strong>Address</strong><br />
                  Vancouver, British Columbia
                </div>
              </li>
            </ul>
          </div>
        </div>
        <div class="footer-column footer-column-2">
          <div class="links-group">
            <div class="links">
              <h4>Documentation</h4>
              <div class="links-list">
                <a href="#Overview">Overview</a>
                <a href="#Installation">Installation</a>
                <a href="#Configuration">Configuration</a>
                <a href="#Usage">Usage</a>
              </div>
            </div>
            <div class="links">
              <h4>Operations</h4>
              <div class="links-list">
                <a href="#Automation">Operations</a>
                <a href="#Uninstallation">Uninstallation</a>
                <a href="#Troubleshooting">Troubleshooting</a>
                <a href="#Support">Support</a>
              </div>
            </div>
            <div class="links">
              <h4>Policies</h4>
              <div class="links-list">
                <a href="#License">License</a>
                <a href="#Disclaimer">Disclaimer</a>
                <a href="license.txt">License file</a>
              </div>
            </div>
            <div class="links">
              <h4>Numinix</h4>
              <div class="links-list">
                <a href="https://www.numinix.com/zen-cart-services" target="_blank" rel="noopener">Zen Cart services</a>
                <a href="https://www.numinix.com/portfolio" target="_blank" rel="noopener">Case studies</a>
                <a href="https://www.numinix.com/blog" target="_blank" rel="noopener">Insights</a>
              </div>
            </div>
          </div>
          <div class="socials" aria-label="Follow Numinix">
            <a href="https://www.facebook.com/numinix" aria-label="Numinix on Facebook" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#1877F2" aria-hidden="true">
                <path d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.988H7.898v-2.89h2.54V9.845c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.261c-1.243 0-1.63.772-1.63 1.562v1.875h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" />
              </svg>
            </a>
            <a href="https://www.linkedin.com/company/numinix/" aria-label="Numinix on LinkedIn" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#0A66C2" aria-hidden="true">
                <path d="M20.447 20.452H16.89V15.84c0-1.099-.02-2.511-1.533-2.511-1.535 0-1.77 1.197-1.77 2.431v4.692H10.03V9h3.41v1.561h.049c.476-.9 1.637-1.848 3.37-1.848 3.602 0 4.268 2.37 4.268 5.455v6.284zM5.337 7.433a1.975 1.975 0 1 1 0-3.95 1.975 1.975 0 0 1 0 3.95zM7.119 20.452H3.554V9H7.12v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.226.792 24 1.771 24h20.451C23.2 24 24 23.226 24 22.271V1.73C24 .774 23.2 0 22.222 0h.003z" />
              </svg>
            </a>
            <a href="https://twitter.com/numinix" aria-label="Numinix on X" target="_blank" rel="noopener">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#171717" aria-hidden="true">
                <path d="M17.21 3H20.5l-7.61 8.69L21.5 21h-6.69l-5.23-6.11L3.69 21H.4l8.18-9.36L.5 3h6.78l4.73 5.52L17.21 3zm-1.18 16.2h1.86L7.9 4.69H5.91l10.12 14.51z" />
              </svg>
            </a>
          </div>
          <div class="payment-methods" aria-label="Accepted payment methods">
            <a href="https://www.numinix.com/" target="_blank" rel="noopener"><img src="images/visa.png" alt="Visa" /></a>
            <a href="https://www.numinix.com/" target="_blank" rel="noopener"><img src="images/american-express.png" alt="American Express" /></a>
            <a href="https://www.numinix.com/" target="_blank" rel="noopener"><img src="images/discover.png" alt="Discover" /></a>
            <a href="https://www.numinix.com/" target="_blank" rel="noopener"><img src="images/maestro.png" alt="Maestro" /></a>
            <a href="https://www.numinix.com/" target="_blank" rel="noopener"><img src="images/paypal.png" alt="PayPal" /></a>
          </div>
        </div>
      </div>
      <div class="readme-footer-bottom">
        <p class="copyright">&copy; <span id="copyright-year"></span> Numinix Web Design Inc.</p>
        <script>document.getElementById('copyright-year').textContent = new Date().getFullYear();</script>
        <p class="madewith">Made with 
          <span aria-hidden="true">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="#E63946">
              <path d="M12 21s-6.716-4.568-9.192-9.192C.565 8.43 2.112 4 6.322 4c2.055 0 3.23 1.232 3.83 2.219C10.448 5.232 11.623 4 13.678 4c4.21 0 5.757 4.43 3.514 7.808C18.716 16.432 12 21 12 21z" />
            </svg>
          </span>
          by <a href="https://www.numinix.com/" target="_blank" rel="noopener">Numinix</a>
        </p>
      </div>
    </footer>
  </div>
</body>
</html>
